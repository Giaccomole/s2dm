# Combined Multiple Domains Schema
# Base types
directive @range(min: Float, max: Float) on FIELD_DEFINITION                                                                                                    
directive @cardinality(min: Int, max: Int) on FIELD_DEFINITION                                                                                                  
directive @noDuplicates on FIELD_DEFINITION                                                                                                                     
directive @instanceTag on OBJECT                                                                                                                                
directive @metadata(comment: String, vssType: String) on FIELD_DEFINITION | OBJECT                                                                              

enum TwoRowsInCabinEnum {                                                                                                                                       
  ROW1                                                                                                                                                          
  ROW2                                                                                                                                                          
}                                                                                                                                                               

enum TwoColumnsInCabinEnum {                                                                                                                                    
  DRIVERSIDE                                                                                                                                                    
  PASSENGERSIDE                                                                                                                                                 
}                                                                                                                                                               

type InCabinArea2x2 {                                                                                                                                           
  row: TwoRowsInCabinEnum                                                                                                                                       
  column: TwoColumnsInCabinEnum                                                                                                                                 
}                                                                                                                                                               

input InCabinArea2x2Input {                                                                                                                                     
  row: TwoRowsInCabinEnum                                                                                                                                       
  column: TwoColumnsInCabinEnum                                                                                                                                 
}                                                                                                                                                               

scalar Int8 @specifiedBy(url: "http://www.w3.org/2001/XMLSchema#byte")                                                                                          
scalar UInt8 @specifiedBy(url: "http://www.w3.org/2001/XMLSchema#unsignedByte")                                                                                 
scalar UInt16 @specifiedBy(url: "http://www.w3.org/2001/XMLSchema#unsignedShort")                                                                               
scalar Float

"""The model of a vehicle's Seat."""                                                                                                                            
type Seat {                                                                                                                                                     
  """                                                                                                                                                           
  Heating or Cooling requested for the Item. -100 = Maximum cooling, 0 = Heating/cooling deactivated, 100 = Maximum heating.                                    
  """                                                                                                                                                           
  heatingCooling(unit: Relation_Unit_Enum = PERCENT): Int8                                                                                                      
  """Does the seat have a passenger in it."""                                                                                                                   
  isOccupied: Boolean                                                                                                                                           
  """Seat massage level. 0 = off. 100 = max massage."""                                                                                                         
  massageLevel(unit: Relation_Unit_Enum = PERCENT): UInt8                                                                                                       
  """Seat position on vehicle x-axis. Position is relative to the frontmost position supported by the seat. 0 = Frontmost position supported."""                                                                                                                                                           
  position(unit: Length_Unit_Enum = MILLIMETER): UInt16                                                                                                         
  instanceTag: InCabinArea2x2                                                                                                                                   
}                                                                                                                                                               

"""High-level vehicle data."""                                                                                                                                  
type Vehicle {                                                                                                                                                  
  id: VehicleIdentification!
  # Extended for multiple domains
  journeyHistory: [DrivingJourney!]
  chargingHistory: [ChargingSession!]
}                                                                                                                                                               

"""Attributes that identify a vehicle."""                                                                                                                       
type VehicleIdentification {                                                                                                                                    
  """17-character Vehicle Identification Number (VIN) as defined by ISO 3779."""                                                                                                                                                           
  vin: String!                                                                                                                                                  
}   

# Person Domain
type Person {
  name: String!
}

# Journey Domain
type DrivingJourney {
    vehicle: Vehicle!
    occupants: [SeatOccupancy]
}

type SeatOccupancy {
    occupant: Person!
    seat: Seat!
}

# Charging Domain
type ChargingSession {
    vehicle: Vehicle!
    paidBy: Person
    chargingStation: ChargingStation
}

type ChargingStation {
    id: ID!
    # Additional charging station properties can be added
}

# Unit enums
enum Length_Unit_Enum {
  MILLIMETER
}

enum Relation_Unit_Enum {
  PERCENT
}

type Query {
  """Get vehicle by VIN"""
  vehicle(vin: String!): Vehicle
  
  """Get person by name"""
  person(name: String!): Person
  
  """Get charging station by ID"""
  chargingStation(id: ID!): ChargingStation
  
  """Get journey history for vehicle"""
  journeyHistory(vehicleVin: String!): [DrivingJourney!]
  
  """Get charging history for vehicle"""
  chargingHistory(vehicleVin: String!): [ChargingSession!]
}
